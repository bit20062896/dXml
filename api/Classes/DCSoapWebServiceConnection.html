<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 STRICT//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>DCSoapWebServiceConnection class reference</title>
  <meta http-equiv="Content-Type" content="application/xhtml+xml;charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="../css/screen.css" />
  <meta name="generator" content="appledoc" />
</head>
<body>
  <div id="mainContainer">
    <h1>DCSoapWebServiceConnection class reference</h1>
    <table summary="Basic information" id="classInfo">
      <tr class="alt">
        <td><label id="classDeclaration">Inherits from</label></td>
        <td><a href="DCUrlConnection.html">DCUrlConnection</a> : 
NSObject</td>
      </tr>
      <tr>
        <td><label id="classDeclaration">Declared in</label></td>
        <td>DCSoapWebServiceConnection.h</td>
      </tr>
    </table>
      <h2>Overview</h2>
<p>Extension of the <a href="DCUrlConnection.html">DCUrlConnection</a> class which is specially designed to handle soap web service calls to servers. </p>
<p>This class is the main class of the dXml api. Here's an example of using it <div class="example"><code>&nbsp;//&nbsp;Simple&nbsp;request&nbsp;for&nbsp;data&nbsp;with&nbsp;no&nbsp;security.</code><code>&nbsp;NSString&nbsp;*xml&nbsp;=&nbsp;@"&lt;dhc:balance&nbsp;xmlns:dhc=\""&nbsp;MODEL_SCHEMA&nbsp;"\"&gt;"</code><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@"&lt;forAccountNumber&gt;1234&lt;/forAccountNumber&gt;"</code><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@"&lt;/dhc:balance&gt;";</code><code>&nbsp;</code><code>&nbsp;//&nbsp;Create&nbsp;the&nbsp;service.</code><code>&nbsp;NSString&nbsp;*url&nbsp;=&nbsp;@"http://localhost:8080/services/Banking";</code><code>&nbsp;NSString&nbsp;*action&nbsp;=&nbsp;@"\"http://www.dhcbank.com/banking/balance\"";</code><code>&nbsp;<a href="">DCSoapWebServiceConnection</a>&nbsp;*service&nbsp;=&nbsp;[<a href="">DCSoapWebServiceConnection</a>&nbsp;<a href="#createWithUrl">createWithUrl</a>:&nbsp;url&nbsp;<a href="#soapAction">soapAction</a>:&nbsp;action];</code><code>&nbsp;</code><code>&nbsp;//&nbsp;And&nbsp;call&nbsp;it.</code><code>&nbsp;<a href="#NSError">NSError</a>&nbsp;*error&nbsp;=&nbsp;nil;</code><code>&nbsp;<a href="DCWebServiceResponse.html">DCWebServiceResponse</a>&nbsp;*response&nbsp;=&nbsp;[service&nbsp;<a href="#postXmlStringPayload">postXmlStringPayload</a>:&nbsp;xml&nbsp;<a href="#errorVar">errorVar</a>:&error];</code><code>&nbsp;</code><code>&nbsp;if&nbsp;(error&nbsp;!=&nbsp;nil)&nbsp;{</code><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Handle&nbsp;the&nbsp;error.</code><code>&nbsp;}</code><code>&nbsp;</code><code>&nbsp;//&nbsp;And&nbsp;do&nbsp;something&nbsp;with&nbsp;the&nbsp;response.</code></div>
</p>
      <h2>Tasks</h2>
      <h3>Properties</h3>
      <ul class="methods">
        <li>
          <span class="tooltipRegion">
            <code><a href=#soapAction>soapAction</a></code>
            <span class="specialType">property</span>
            <span class="tooltip">The specific soap action to call. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#securityType>securityType</a></code>
            <span class="specialType">property</span>
            <span class="tooltip">Indicates the security type to apply to the connection. </span>          </span>
        </li>
      </ul>
      <h3>Factory methods</h3>
      <ul class="methods">
        <li>
          <span class="tooltipRegion">
            <code><a href=#createWithUrl:>+ createWithUrl:</a></code>
            <span class="tooltip">Constructor which accepts just a url. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#createWithUrl:soapAction:>+ createWithUrl:soapAction:</a></code>
            <span class="tooltip">Constructor which accepts a url and action. </span>          </span>
        </li>
      </ul>
      <h3>Interactions</h3>
      <ul class="methods">
        <li>
          <span class="tooltipRegion">
            <code><a href=#postXmlNodePayload:errorVar:>- postXmlNodePayload:errorVar:</a></code>
            <span class="tooltip">Uses http POST to send the soap message to the server and returns the response. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#postXmlStringPayload:errorVar:>- postXmlStringPayload:errorVar:</a></code>
            <span class="tooltip">Uses http POST to send the soap message to the server and returns the response. </span>          </span>
        </li>
      </ul>
      <h2>Class methods</h2>
      <h3><a name="createWithUrl:"></a>createWithUrl:</h3>
<p>Constructor which accepts just a url. </p>
      <code class="methodDeclaration">+ (DCSoapWebServiceConnection *)createWithUrl:(NSString *)        <span class="parameter">aServerUrl</span>
</code>
      <h5>Parameters</h5>
      <dl class="parameterList">
        <dt>aServerUrl</dt>
        <dd><p>the url of the destination server. </p>
</dd>
      </dl>
      <h5>Declared in</h5>
      <code>DCSoapWebServiceConnection.h</code>
      <h3><a name="createWithUrl:soapAction:"></a>createWithUrl:soapAction:</h3>
<p>Constructor which accepts a url and action. </p>
      <code class="methodDeclaration">+ (DCSoapWebServiceConnection *)createWithUrl:(NSString *)        <span class="parameter">aServerUrl</span>
 soapAction:(NSString *)        <span class="parameter">aSoapAction</span>
</code>
      <h5>Parameters</h5>
      <dl class="parameterList">
        <dt>aServerUrl</dt>
        <dd><p>the url of the destination server. </p>
</dd>
        <dt>aSoapAction</dt>
        <dd><p>the soap action to call. </p>
</dd>
      </dl>
      <h5>Declared in</h5>
      <code>DCSoapWebServiceConnection.h</code>
      <h2>Instance methods</h2>
      <h3><a name="postXmlNodePayload:errorVar:"></a>postXmlNodePayload:errorVar:</h3>
<p>Uses http POST to send the soap message to the server and returns the response. </p>
      <code class="methodDeclaration">- (DCWebServiceResponse *)postXmlNodePayload:(DCXmlNode *)        <span class="parameter">aBody</span>
 errorVar:(NSError **)        <span class="parameter">aErrorVar</span>
</code>
      <h5>Parameters</h5>
      <dl class="parameterList">
        <dt>aBody</dt>
        <dd><p>The payload/Body content to be sent, represented by <a href="DCXmlNode.html">DCXmlNode</a> datagraph. </p>
</dd>
        <dt>aErrorVar</dt>
        <dd><p>a reference to the a <a href="#NSError">NSError</a> that can be populated if there is an error. This must be passed by reference using `&aErrorVar`. </p>
</dd>
      </dl>
      <h5>Declared in</h5>
      <code>DCSoapWebServiceConnection.h</code>
      <h3><a name="postXmlStringPayload:errorVar:"></a>postXmlStringPayload:errorVar:</h3>
<p>Uses http POST to send the soap message to the server and returns the response. </p>
      <code class="methodDeclaration">- (DCWebServiceResponse *)postXmlStringPayload:(NSString *)        <span class="parameter">aBody</span>
 errorVar:(NSError **)        <span class="parameter">aErrorVar</span>
</code>
      <h5>Parameters</h5>
      <dl class="parameterList">
        <dt>aBody</dt>
        <dd><p>The payload/Body content to be sent, represented by NSString. </p>
</dd>
        <dt>aErrorVar</dt>
        <dd><p>a reference to the a <a href="#NSError">NSError</a> that can be populated if there is an error. This must be passed by reference using `&aErrorVar`. </p>
</dd>
      </dl>
      <h5>See also</h5>
      <ul class="seeAlso">
        <li><code><a href="#SoapWebServiceConnection">SoapWebServiceConnection</a></code></li>
      </ul>
      <h5>Declared in</h5>
      <code>DCSoapWebServiceConnection.h</code>
      <h2>Properties</h2>
      <h3><a name="soapAction"></a>soapAction</h3>
<p>The specific soap action to call. </p>
      <code class="methodDeclaration">@property NSString *soapAction</code>
      <h5>Declared in</h5>
      <code>DCSoapWebServiceConnection.h</code>
      <h3><a name="securityType"></a>securityType</h3>
<p>Indicates the security type to apply to the connection. </p>
      <code class="methodDeclaration">@property SECURITYTYPE securityType</code>
      <h5>Declared in</h5>
      <code>DCSoapWebServiceConnection.h</code>
    <hr />
    <p id="lastUpdated">      (Last updated: 2010-02-26)
      <br />
      Back to <a href="../index.html">index</a> / <a href="../hierarchy.html">hierarchy</a>.
    </p>
  </div>
</body>
</html>
