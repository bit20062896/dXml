<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 STRICT//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>DCXPathExecutor class reference</title>
  <meta http-equiv="Content-Type" content="application/xhtml+xml;charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="../css/screen.css" />
  <meta name="generator" content="appledoc" />
</head>
<body>
  <div id="mainContainer">
    <h1>DCXPathExecutor class reference</h1>
    <table summary="Basic information" id="classInfo">
      <tr class="alt">
        <td><label id="classDeclaration">Inherits from</label></td>
        <td>NSObject</td>
      </tr>
      <tr>
        <td><label id="classDeclaration">Declared in</label></td>
        <td>DCXPathExecutor.h</td>
      </tr>
    </table>
      <h2>Overview</h2>
<p>This class processes xpaths. </p>
<p>The Xpath capability is not a complete implementation. However it proves the basic set of instructions needed to be able to locate <a href="DCDMNode.html">DCDMNode</a> instances.</p>
<p>The processing follows the w3school standard (Although I found it a bit hard to follow!) as near as I can. The reference I used can be found at http://www.w3schools.com/XPath/xpath_syntax.asp Basically what happens is that unless there is a starting slash in the path, navigation starts with the xml element that you send the request to. If there is a starting slash then the processing of the path starts from the root of the document model.</p>
<p>Xpath processing is designed to return multiple nodes if they exist. So specifying something like abc/[2] will bring back the secod sub element from all occurances of the abc element. Not just the first.</p>
<p>Here is a list of the elements you can use in the xpaths and how they are processed.</p>
<p><ul>
<li><p><strong>//<em>element-name</em></strong> - returns all occurances of <em>element-name</em> from the current point in the document model and below. This is regardless of where they occur.</p>
</li>
<li><p><strong>/</strong> - delimiter between nodes of the xpath. <strong>Note:</strong> If this occurs at the start of the xpath then it causes the path to be regarded as an absolute path which starts from the root of the document.</p>
</li>
<li><p><strong>..</strong> - refers back up to the parent of each of the current set of nodes.</p>
</li>
<li><p><strong>.</strong> - refers to the current node so doesn't really do anything as such, but is here for completeness. Allows xpaths like "./abc"</p>
</li>
<li><p><strong>[nn]</strong> - This depends on how it is used. Combined with a element name it selects the nth element by that name. However, if used by itself, it selects the nth <a href="DCDMNode.html">DCDMNode</a> under the current nodes.</p>
</li>
</ul>
</p>
<p>A note about exceptions and errors. Exceptions are thrown by the executeXpath:errorVar: method if there is a syntactical issues with the xpath. i.e. the developer got it wrong and should have picked it p during developement. Alternatively I got it wrong :-) However if there is an error during the processing of a document model, then the errorVar variable is populated instead. The reasoning is that this is a likely event caused by incomplete (but valid xml) being processed. Or the xml is simply not what was expected by the xpath. A good example might be a xpath that tries to find sub nodes of a text node. </p>
      <h2>Tasks</h2>
      <h3>Other</h3>
      <ul class="methods">
        <li>
          <span class="tooltipRegion">
            <code><a href=#document>document</a></code>
            <span class="specialType">property</span>
            <span class="tooltip">Reference to the document to be processed. </span>          </span>
        </li>
      </ul>
      <h3>Other</h3>
      <ul class="methods">
        <li>
          <span class="tooltipRegion">
            <code><a href=#initWithDocument:>- initWithDocument:</a></code>
            <span class="tooltip">Default constructor. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#executeXPath:errorVar:>- executeXPath:errorVar:</a></code>
            <span class="tooltip">Executes the passed xpath and returns whatever it finds. </span>          </span>
        </li>
      </ul>
      <h2>Instance methods</h2>
      <h3><a name="initWithDocument:"></a>initWithDocument:</h3>
<p>Default constructor. </p>
      <code class="methodDeclaration">- (DCXPathExecutor *)initWithDocument:(DCXmlNode *)        <span class="parameter">aDocument</span>
</code>
      <h5>Parameters</h5>
      <dl class="parameterList">
        <dt>aDocument</dt>
        <dd><p>A document model. Notice it is only required to have a single <a href="DCXmlNode.html">DCXmlNode</a> as the root node. This allows document models which do not have a <a href="DCXmlDocument.html">DCXmlDocument</a> as the root to be processed. </p>
</dd>
      </dl>
      <h5>Declared in</h5>
      <code>DCXPathExecutor.h</code>
      <h3><a name="executeXPath:errorVar:"></a>executeXPath:errorVar:</h3>
<p>Executes the passed xpath and returns whatever it finds. </p>
      <code class="methodDeclaration">- (id)executeXPath:(NSString *)        <span class="parameter">aXPath</span>
 errorVar:(NSError **)        <span class="parameter">aErrorVar</span>
</code>
      <h5>Parameters</h5>
      <dl class="parameterList">
        <dt>aXPath</dt>
        <dd><p>This is the xpath string to be executed. </p>
</dd>
        <dt>aErrorVar</dt>
        <dd><p>A reference to a variable which will be populated with an NEError should there be an issue with processing the xpath against the current document model. </p>
</dd>
      </dl>
      <h5>Exceptions</h5>
      <dl class="parameterList">
        <dt>NSException</dt>
        <dd><p>if there is a fault in the xpath syntax. </p>
</dd>
      </dl>
      <h5>Discussion</h5>
<p>The results can be any of the following: <ul>
<li><p>nil indicating that there was no matching xml. </p>
</li>
<li><p>A single <a href="DCTextNode.html">DCTextNode</a> or <a href="DCXmlNode.html">DCXmlNode</a>. </p>
</li>
<li><p>A NSArray containing any combination of DCTextNodes and DCXmlNodes.</p>
</li>
</ul>
</p>
      <h5>Declared in</h5>
      <code>DCXPathExecutor.h</code>
      <h2>Properties</h2>
      <h3><a name="document"></a>document</h3>
<p>Reference to the document to be processed. </p>
      <code class="methodDeclaration">@property DCXmlNode *document</code>
      <h5>Declared in</h5>
      <code>DCXPathExecutor.h</code>
    <hr />
    <p id="lastUpdated">      (Last updated: 2010-02-18)
      <br />
      Back to <a href="../index.html">index</a> / <a href="../hierarchy.html">hierarchy</a>.
    </p>
  </div>
</body>
</html>
