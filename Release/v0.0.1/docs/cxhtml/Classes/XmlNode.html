<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 STRICT//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>XmlNode class reference</title>
  <meta http-equiv="Content-Type" content="application/xhtml+xml;charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="../css/screen.css" />
  <meta name="generator" content="appledoc" />
</head>
<body>
  <div id="mainContainer">
    <h1>XmlNode class reference</h1>
    <table summary="Basic information" id="classInfo">
      <tr class="alt">
        <td><label id="classDeclaration">Inherits from</label></td>
        <td><a href="DMNode.html">DMNode</a> : 
NSObject</td>
      </tr>
      <tr>
        <td><label id="classDeclaration">Declared in</label></td>
        <td>XmlNode.h</td>
      </tr>
    </table>
      <h2>Overview</h2>
<p><a href="">XmlNode</a> is the main class used to represent nodes in the Document Model (DM) tree. </p>
<p>The <a href="XmlParser.html">XmlParser</a> and it's two delegates (<a href="XmlSubtreeParserDelegate.html">XmlSubtreeParserDelegate</a> and <a href="XmlDocumentParserDelegate.html">XmlDocumentParserDelegate</a>) will generate the whole DM using instances of this class. </p>
<p>XmlNodes contain all the data required to restructure the xml representation of the object graph: <ul>
<li><p>name </p>
</li>
<li><p>prefix </p>
</li>
<li><p>attributes </p>
</li>
<li><p>namespace declarations </p>
</li>
<li><p>sub elements which can be of any DMObject type. </p>
</li>
</ul>
<a href="">XmlNode</a> is also the main factory class of the DM, being about to create instances of itself as well as other nodes such as the <a href="TextNode.html">TextNode</a>. </p>
      <h2>Tasks</h2>
      <h3></h3>
      <ul class="methods">
        <li>
          <span class="tooltipRegion">
            <code><a href=#initWithName:>- initWithName:</a></code>
            <span class="tooltip">Creates a XmlNode with just a name. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#initWithName:prefix:>- initWithName:prefix:</a></code>
            <span class="tooltip">Creates a XmlNode with a name and namespace prefix. </span>          </span>
        </li>
      </ul>
      <h3>Other</h3>
      <ul class="methods">
        <li>
          <span class="tooltipRegion">
            <code><a href=#name>name</a></code>
            <span class="specialType">property</span>
            <span class="tooltip">The name of the XmlNode as it would be printed in an xml stream. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#prefix>prefix</a></code>
            <span class="specialType">property</span>
            <span class="tooltip">Schema prefix. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#defaultSchema>defaultSchema</a></code>
            <span class="specialType">property</span>
            <span class="tooltip">The defaultSchema is a schema specified without a prefix. </span>          </span>
        </li>
      </ul>
      <h3>Other</h3>
      <ul class="methods">
        <li>
          <span class="tooltipRegion">
            <code><a href=#isEqualsToName:>- isEqualsToName:</a></code>
            <span class="tooltip">Used during search loops to find child XmlNodes based on their names only. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#xmlNodeWithName:>- xmlNodeWithName:</a></code>
            <span class="tooltip">Locates and returns a XmlNode based on it's name only. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#nodeAtIndex:>- nodeAtIndex:</a></code>
            <span class="tooltip">Returns the DMObject at the specific index. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#addNode:>- addNode:</a></code>
            <span class="tooltip">Adds a new child DMNode to the end of the list of sub elements. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#addXmlNodeWithName:>- addXmlNodeWithName:</a></code>
          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#addXmlNodeWithName:prefix:>- addXmlNodeWithName:prefix:</a></code>
            <span class="tooltip">Adds a new child XmlNode to the end of the list of DMObjects. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#addXmlNodeWithName:value:>- addXmlNodeWithName:value:</a></code>
            <span class="tooltip">Adds a new child XmlNode to the end of the list of DMObjects. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#addXmlNodeWithName:prefix:value:>- addXmlNodeWithName:prefix:value:</a></code>
            <span class="tooltip">Adds a new child XmlNode to the end of the list of DMObjects. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#hasXmlNodeWithName:>- hasXmlNodeWithName:</a></code>
            <span class="tooltip">returns true if the current XmlNode has a child XmlNode with the specified name. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#nodes>- nodes</a></code>
            <span class="tooltip">Returns a NSEnumerator which can be used to iteration through all the DMObjects. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#xmlNodesWithName:>- xmlNodesWithName:</a></code>
            <span class="tooltip">Searches the child nodes for XmlNodes with the specific name and returns a new NSArray containing just those nodes. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#addNamespace:prefix:>- addNamespace:prefix:</a></code>
            <span class="tooltip">Adds a namespace and prefix to the current XmlNode. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#namespaces>- namespaces</a></code>
            <span class="tooltip">Returns an NSEnumerator which can be used to iterator through all the namespaces added to the current XmlNode. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#setAttribute:value:>- setAttribute:value:</a></code>
            <span class="tooltip">Sets the name and value of an attribute. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#attributeValue:>- attributeValue:</a></code>
            <span class="tooltip">Returns the value for an attribute. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#attributes>- attributes</a></code>
            <span class="tooltip">Returns a NSEnumerator which can be used to iterate through all attributes. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#value>- value</a></code>
            <span class="tooltip">Shortcut method which returns the value of the first child TextNode or nil if there are no child TextNodes. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#addTextNodeWithValue:>- addTextNodeWithValue:</a></code>
            <span class="tooltip">Adds an additional TextNode to the list of child nodes. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#setValue:>- setValue:</a></code>
            <span class="tooltip">Short cut method which clears all current child elements and then adds a single TextNode containing the passed text. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#asXmlString>- asXmlString</a></code>
            <span class="tooltip">Generates the XmlNode as a NSString. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#asPrettyXmlString>- asPrettyXmlString</a></code>
            <span class="tooltip">Effectively the same as asXmlString: however this "pretty prints" it which is useful for logging purposes where readibility of the xml is the primary factor. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#countNodes>- countNodes</a></code>
            <span class="tooltip">Returns the number of nodes within this node. </span>          </span>
        </li>
      </ul>
      <h2>Instance methods</h2>
      <h3><a name="initWithName:"></a>initWithName:</h3>
<p>Creates a <a href="">XmlNode</a> with just a name. </p>
      <code class="methodDeclaration">- (XmlNode *)initWithName:(NSString *)        <span class="parameter">aName</span>
</code>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="initWithName:prefix:"></a>initWithName:prefix:</h3>
<p>Creates a <a href="">XmlNode</a> with a name and namespace prefix. </p>
      <code class="methodDeclaration">- (XmlNode *)initWithName:(NSString *)        <span class="parameter">aName</span>
 prefix:(NSString *)        <span class="parameter">aPrefix</span>
</code>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="isEqualsToName:"></a>isEqualsToName:</h3>
<p>Used during search loops to find child XmlNodes based on their names only. </p>
      <code class="methodDeclaration">- (BOOL)isEqualsToName:(NSString *)        <span class="parameter">aName</span>
</code>
      <h5>Discussion</h5>
<p>Obviously this only finds instances of <a href="">XmlNode</a>. </p>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="xmlNodeWithName:"></a>xmlNodeWithName:</h3>
<p>Locates and returns a <a href="">XmlNode</a> based on it's name only. </p>
      <code class="methodDeclaration">- (XmlNode *)xmlNodeWithName:(NSString *)        <span class="parameter">aName</span>
</code>
      <h5>Discussion</h5>
<p>Again this will only find XmlNodes. </p>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="nodeAtIndex:"></a>nodeAtIndex:</h3>
<p>Returns the DMObject at the specific index. </p>
      <code class="methodDeclaration">- (XmlNode *)nodeAtIndex:(int)        <span class="parameter">index</span>
</code>
      <h5>Discussion</h5>
<p>This can return any type of DMObject. </p>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="addNode:"></a>addNode:</h3>
<p>Adds a new child <a href="DMNode.html">DMNode</a> to the end of the list of sub elements. </p>
      <code class="methodDeclaration">- (void)addNode:(DMNode *)        <span class="parameter">element</span>
</code>
      <h5>Discussion</h5>
<p>This is the main method for adding child nodes. If the passed node is a <a href="TextNode.html">TextNode</a> then it is just added to the nodesInOrder variable. if it's from the <a href="">XmlNode</a> hirachy then it is also added to the nodesByName dictionary, however this will only happen if there is not a node already present with the specified name. In other words, this method will only index the first occurance of a <a href="">XmlNode</a> with any give name. </p>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="addXmlNodeWithName:"></a>addXmlNodeWithName:</h3>
      <code class="methodDeclaration">- (XmlNode *)addXmlNodeWithName:(NSString *)        <span class="parameter">aName</span>
</code>
      <h5>Discussion</h5>
<p>Adds a new child <a href="">XmlNode</a> to the end of the list of DMObjects. This first constructs an instance of <a href="">XmlNode</a> and then passes it to the addXmlNode(XmlNode *) method. The returned <a href="">XmlNode</a> is autoreleased. </p>
      <h5>See also</h5>
      <ul class="seeAlso">
        <li><code><a href="#addXmlNode:">addXmlNode:</a></code></li>
      </ul>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="addXmlNodeWithName:prefix:"></a>addXmlNodeWithName:prefix:</h3>
<p>Adds a new child <a href="">XmlNode</a> to the end of the list of DMObjects. </p>
      <code class="methodDeclaration">- (XmlNode *)addXmlNodeWithName:(NSString *)        <span class="parameter">aName</span>
 prefix:(NSString *)        <span class="parameter">aPrefix</span>
</code>
      <h5>Discussion</h5>
<p>This first constructs an instance of <a href="">XmlNode</a> and then passes it to the addXmlNode(XmlNode *) method. The returned <a href="">XmlNode</a> is autoreleased. </p>
      <h5>See also</h5>
      <ul class="seeAlso">
        <li><code><a href="#addXmlNode:">addXmlNode:</a></code></li>
      </ul>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="addXmlNodeWithName:value:"></a>addXmlNodeWithName:value:</h3>
<p>Adds a new child <a href="">XmlNode</a> to the end of the list of DMObjects. </p>
      <code class="methodDeclaration">- (XmlNode *)addXmlNodeWithName:(NSString *)        <span class="parameter">aName</span>
 value:(NSString *)        <span class="parameter">aValue</span>
</code>
      <h5>Discussion</h5>
<p>This first constructs an instance of <a href="">XmlNode</a> and then passes it to the addXmlNode(XmlNode *) method. The returned <a href="">XmlNode</a> is autoreleased. </p>
      <h5>See also</h5>
      <ul class="seeAlso">
        <li><code><a href="#addXmlNode:">addXmlNode:</a></code></li>
      </ul>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="addXmlNodeWithName:prefix:value:"></a>addXmlNodeWithName:prefix:value:</h3>
<p>Adds a new child <a href="">XmlNode</a> to the end of the list of DMObjects. </p>
      <code class="methodDeclaration">- (XmlNode *)addXmlNodeWithName:(NSString *)        <span class="parameter">aName</span>
 prefix:(NSString *)        <span class="parameter">aPrefix</span>
 value:(NSString *)        <span class="parameter">aValue</span>
</code>
      <h5>Discussion</h5>
<p>This first constructs an instance of <a href="">XmlNode</a> and then passes it to the addXmlNode(XmlNode *) method. The returned <a href="">XmlNode</a> is autoreleased. </p>
      <h5>See also</h5>
      <ul class="seeAlso">
        <li><code><a href="#addXmlNode:">addXmlNode:</a></code></li>
      </ul>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="hasXmlNodeWithName:"></a>hasXmlNodeWithName:</h3>
<p>returns true if the current <a href="">XmlNode</a> has a child <a href="">XmlNode</a> with the specified name. </p>
      <code class="methodDeclaration">- (BOOL)hasXmlNodeWithName:(NSString *)        <span class="parameter">aName</span>
</code>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="nodes"></a>nodes</h3>
<p>Returns a NSEnumerator which can be used to iteration through all the DMObjects. </p>
      <code class="methodDeclaration">- (NSEnumerator *)nodes</code>
      <h5>Discussion</h5>
<p>For example <div class="example"><pre><code> for (DMObject * node in [aXmlNode <a href="#nodes">- nodes</a>] {</code><code>    ... do your stuff here ...</code><code> }</code></pre></div>
</p>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="xmlNodesWithName:"></a>xmlNodesWithName:</h3>
<p>Searches the child nodes for XmlNodes with the specific name and returns a new NSArray containing just those nodes. </p>
      <code class="methodDeclaration">- (NSEnumerator *)xmlNodesWithName:(NSString *)        <span class="parameter">aName</span>
</code>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="addNamespace:prefix:"></a>addNamespace:prefix:</h3>
<p>Adds a namespace and prefix to the current <a href="">XmlNode</a>. </p>
      <code class="methodDeclaration">- (void)addNamespace:(NSString *)        <span class="parameter">aUrl</span>
 prefix:(NSString *)        <span class="parameter">aPrefix</span>
</code>
      <h5>Discussion</h5>
<p>This will manifest as a namespace declaration in any produced xml. For example: <div class="example"><pre><code><a href="">XmlNode</a> * node = [[<a href="">XmlNode</a> alloc] initWithName: @"abc"];</code><code> [node <a href="#addNamespace">addNamespace</a>: @"http://url.com" <a href="#prefix">prefix</a>: @"xyz"];</code></pre></div>
 Will result in: <div class="example"><pre><code> &lt;xyz:abc xlmns:xyz="http://url.com" /&gt;</code></pre></div>
</p>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="namespaces"></a>namespaces</h3>
<p>Returns an NSEnumerator which can be used to iterator through all the namespaces added to the current <a href="">XmlNode</a>. </p>
      <code class="methodDeclaration">- (NSEnumerator *)namespaces</code>
      <h5>Discussion</h5>
<p>For example <div class="example"><pre><code> for (<a href="XmlNamespace.html">XmlNamespace</a> * namespace in [aNode <a href="#namespaces">- namespaces</a>] {</code><code>    ... do your stuff here ...</code><code> }</code></pre></div>
</p>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="setAttribute:value:"></a>setAttribute:value:</h3>
<p>Sets the name and value of an attribute. </p>
      <code class="methodDeclaration">- (void)setAttribute:(NSString *)        <span class="parameter">aName</span>
 value:(NSString *)        <span class="parameter">aValue</span>
</code>
      <h5>Discussion</h5>
<p>Here's an example <div class="example"><pre><code><a href="">XmlNode</a> * node = [[<a href="">XmlNode</a> alloc] initWithName: @"element"];</code><code> [node <a href="#setAttribute">setAttribute</a>: @"abc" <a href="#value">- value</a>: @"def"];</code><code> NSLog(@"%@", [node <a href="#asXmlString">- asXmlString</a>]);</code></pre></div>
 Results in <div class="example"><pre><code> &lt;element abc="def" /&gt;</code></pre></div>
</p>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="attributeValue:"></a>attributeValue:</h3>
<p>Returns the value for an attribute. </p>
      <code class="methodDeclaration">- (NSString *)attributeValue:(NSString *)        <span class="parameter">aName</span>
</code>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="attributes"></a>attributes</h3>
<p>Returns a NSEnumerator which can be used to iterate through all attributes. </p>
      <code class="methodDeclaration">- (NSEnumerator *)attributes</code>
      <h5>Discussion</h5>
<p>For example <div class="example"><pre><code> for (<a href="">XmlNode</a> * node in [aNode childNodes] {</code><code>    ... do your stuff here ...</code><code> }</code></pre></div>
</p>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="value"></a>value</h3>
<p>Shortcut method which returns the value of the first child <a href="TextNode.html">TextNode</a> or nil if there are no child TextNodes. </p>
      <code class="methodDeclaration">- (NSString *)value</code>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="addTextNodeWithValue:"></a>addTextNodeWithValue:</h3>
<p>Adds an additional <a href="TextNode.html">TextNode</a> to the list of child nodes. </p>
      <code class="methodDeclaration">- (TextNode *)addTextNodeWithValue:(NSString *)        <span class="parameter">aValue</span>
</code>
      <h5>Discussion</h5>
<p>THis is the primary method for adding new text noes to the DM. Note: unlike setValue: this method does not clear the list of child Notes. It's primary purpose is for when loading an xml stream which may contain mixed content. The returned <a href="TextNode.html">TextNode</a> is autoreleased. </p>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="setValue:"></a>setValue:</h3>
<p>Short cut method which clears all current child elements and then adds a single <a href="TextNode.html">TextNode</a> containing the passed text. </p>
      <code class="methodDeclaration">- (void)setValue:(NSString *)        <span class="parameter">value</span>
</code>
      <h5>Discussion</h5>
<p>This method also returns void so that it fits the standard getter/setter pattern and therefore can be used in the shortcut form <div class="example"><pre><code> aNode<B>.value</b> = @"value";</code></pre></div>
</p>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="asXmlString"></a>asXmlString</h3>
<p>Generates the <a href="">XmlNode</a> as a NSString. </p>
      <code class="methodDeclaration">- (NSString *)asXmlString</code>
      <h5>Discussion</h5>
<p>This is called when the client program needs to serialise the DM for sending to servers. </p>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="asPrettyXmlString"></a>asPrettyXmlString</h3>
<p>Effectively the same as asXmlString: however this "pretty prints" it which is useful for logging purposes where readibility of the xml is the primary factor. </p>
      <code class="methodDeclaration">- (NSString *)asPrettyXmlString</code>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="countNodes"></a>countNodes</h3>
<p>Returns the number of nodes within this node. </p>
      <code class="methodDeclaration">- (int)countNodes</code>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h2>Properties</h2>
      <h3><a name="name"></a>name</h3>
<p>The name of the <a href="">XmlNode</a> as it would be printed in an xml stream. </p>
      <code class="methodDeclaration">@property NSString *name</code>
      <h5>Discussion</h5>
<p>For example a name of "abc" would yeild this xml <div class="example"><pre><code> &lt;<b>abc</b> /&gt;</code></pre></div>
</p>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="prefix"></a>prefix</h3>
<p>Schema prefix. </p>
      <code class="methodDeclaration">@property NSString *prefix</code>
      <h5>Discussion</h5>
<p>For example <div class="example"><pre><code> &lt;<b>soapenv</b>:Body /&gt;</code></pre></div>
</p>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
      <h3><a name="defaultSchema"></a>defaultSchema</h3>
<p>The defaultSchema is a schema specified without a prefix. </p>
      <code class="methodDeclaration">@property NSString *defaultSchema</code>
      <h5>Discussion</h5>
<p>There can be only one of these for a <a href="">XmlNode</a>. For example <div class="example"><pre><code> &lt;abc <b>xmlns="http://defaultschema.com"</b> /&gt;</code></pre></div>
</p>
      <h5>Declared in</h5>
      <code>XmlNode.h</code>
    <hr />
    <p id="lastUpdated">      (Last updated: 2010-01-11)
      <br />
      Back to <a href="../index.html">index</a> / <a href="../hierarchy.html">hierarchy</a>.
    </p>
  </div>
</body>
</html>
