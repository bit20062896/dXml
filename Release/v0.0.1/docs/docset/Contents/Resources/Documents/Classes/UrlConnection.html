<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 STRICT//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>UrlConnection class reference</title>
  <meta http-equiv="Content-Type" content="application/xhtml+xml;charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="../css/screen.css" />
  <meta name="generator" content="appledoc" />
</head>
<body>
  <div id="mainContainer">
    <h1>UrlConnection class reference</h1>
    <table summary="Basic information" id="classInfo">
      <tr class="alt">
        <td><label id="classDeclaration">Inherits from</label></td>
        <td>NSObject</td>
      </tr>
      <tr>
        <td><label id="classDeclaration">Declared in</label></td>
        <td>UrlConnection+NSURLConnectionDelegate.m</td>
      </tr>
    </table>
      <h2>Overview</h2>
<p>This is the driver class for communicating with a url. </p>
<p>It's basic job is to send and receive data from the server and to manage security. Here is a basic example of using this class <div class="example"><pre><code> NSString *request = @"&lt;?xml version=\"1.0\" encoding=\"UTF-8\"&gt;"</code><code>    @"&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;"</code><code>    @"&lt;soap:Body&gt;"</code><code>    @"&lt;dhc:balance xmlns:dhc=\"" MODEL_SCHEMA "\"&gt;"</code><code>    @"&lt;forAccountNumber&gt;1234&lt;/forAccountNumber&gt;"</code><code>    @"&lt;/dhc:balance&gt;"</code><code>    @"\n\t&lt;/soap:Body&gt;"</code><code>    @"\n&lt;/soap:Envelope&gt;";</code><code><code><a href="">UrlConnection</a> *connection = [<a href="">UrlConnection</a><a href="#createWithUrl">createWithUrl</a>: BANKING];</code><code> [connection <a href="#setHeaderValue">setHeaderValue</a>: BALANCE_ACTION <a href="#forKey">forKey</a>: @"SOAPAction"];</code><code> NSData *data = [connection <a href="#post">post</a>: request];</code></pre></div>
</p>
      <h2>Tasks</h2>
      <h3>Other</h3>
      <ul class="methods">
        <li>
          <span class="tooltipRegion">
            <code><a href=#serverUrl>serverUrl</a></code>
            <span class="specialType">property</span>
            <span class="tooltip">This is the url that refers to the server. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#error>error</a></code>
            <span class="specialType">property</span>
            <span class="tooltip">If an error is detected during operations, it is stored in this property or accessing by the calling program. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#allowSelfSignedCertificates>allowSelfSignedCertificates</a></code>
            <span class="specialType">property</span>
            <span class="tooltip">If set to true, the UrlConnection will accept self signed cerificates from the server. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#storeCredentials>storeCredentials</a></code>
            <span class="specialType">property</span>
            <span class="tooltip">If set to true, credentials are stored and reused. </span>          </span>
        </li>
      </ul>
      <h3>Other</h3>
      <ul class="methods">
        <li>
          <span class="tooltipRegion">
            <code><a href=#initWithUrl:>- initWithUrl:</a></code>
            <span class="tooltip">Default constructor. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#post:>- post:</a></code>
            <span class="tooltip">Call this to post a message to the destination server. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#setHeaderValue:forKey:>- setHeaderValue:forKey:</a></code>
            <span class="tooltip">Adds a header element to the message. </span>          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#setUsername:password:>- setUsername:password:</a></code>
            <span class="tooltip">Sets the username and password to be used for encrypted connections. </span>          </span>
        </li>
      </ul>
      <h3>Other</h3>
      <ul class="methods">
        <li>
          <span class="tooltipRegion">
            <code><a href=#createWithUrl:>+ createWithUrl:</a></code>
            <span class="tooltip">Factory method which generates a autorelease instance. </span>          </span>
        </li>
      </ul>
      <h2>Class methods</h2>
      <h3><a name="createWithUrl:"></a>createWithUrl:</h3>
<p>Factory method which generates a autorelease instance. </p>
      <code class="methodDeclaration">+ (UrlConnection *)createWithUrl:(NSString *)        <span class="parameter">aUrl</span>
</code>
      <h5>Declared in</h5>
      <code>UrlConnection.h</code>
      <h2>Instance methods</h2>
      <h3><a name="initWithUrl:"></a>initWithUrl:</h3>
<p>Default constructor. </p>
      <code class="methodDeclaration">- (UrlConnection *)initWithUrl:(NSString *)        <span class="parameter">aUrl</span>
</code>
      <h5>Declared in</h5>
      <code>UrlConnection.h</code>
      <h3><a name="post:"></a>post:</h3>
<p>Call this to post a message to the destination server. </p>
      <code class="methodDeclaration">- (NSData *)post:(NSString *)        <span class="parameter">bodyContent</span>
</code>
      <h5>Exceptions</h5>
      <dl class="parameterList">
        <dt>UrlConnectioNException</dt>
        <dd><p>if an error occurs. </p>
</dd>
      </dl>
      <h5>Discussion</h5>
<p>The bodyContent data will be set as the httpBodyContent in the post message. The response is the raw stream returned by the server. </p>
      <h5>See also</h5>
      <ul class="seeAlso">
        <li><code><a href="#NSURLConnectionDelegate for details of how the response is assembled.">NSURLConnectionDelegate for details of how the response is assembled.</a></code></li>
      </ul>
      <h5>Declared in</h5>
      <code>UrlConnection.h</code>
      <h3><a name="setHeaderValue:forKey:"></a>setHeaderValue:forKey:</h3>
<p>Adds a header element to the message. </p>
      <code class="methodDeclaration">- (void)setHeaderValue:(NSString *)        <span class="parameter">value</span>
 forKey:(NSString *)        <span class="parameter">key</span>
</code>
      <h5>Discussion</h5>
<p>Call before posting a message. </p>
      <h5>Declared in</h5>
      <code>UrlConnection.h</code>
      <h3><a name="setUsername:password:"></a>setUsername:password:</h3>
<p>Sets the username and password to be used for encrypted connections. </p>
      <code class="methodDeclaration">- (void)setUsername:(NSString *)        <span class="parameter">aUsername</span>
 password:(NSString *)        <span class="parameter">aPassword</span>
</code>
      <h5>Declared in</h5>
      <code>UrlConnection.h</code>
      <h2>Properties</h2>
      <h3><a name="serverUrl"></a>serverUrl</h3>
<p>This is the url that refers to the server. </p>
      <code class="methodDeclaration">@property NSString *serverUrl</code>
      <h5>Declared in</h5>
      <code>UrlConnection.h</code>
      <h3><a name="error"></a>error</h3>
<p>If an error is detected during operations, it is stored in this property or accessing by the calling program. </p>
      <code class="methodDeclaration">@property NSError *error</code>
      <h5>Declared in</h5>
      <code>UrlConnection.h</code>
      <h3><a name="allowSelfSignedCertificates"></a>allowSelfSignedCertificates</h3>
<p>If set to true, the <a href="">UrlConnection</a> will accept self signed cerificates from the server. </p>
      <code class="methodDeclaration">@property BOOL allowSelfSignedCertificates</code>
      <h5>Discussion</h5>
<p>This is most useful when developing code as the server can be on the developer's machine. This setting allows the developer to work without having to obtain formal certifcates. </p>
      <h5>Declared in</h5>
      <code>UrlConnection.h</code>
      <h3><a name="storeCredentials"></a>storeCredentials</h3>
<p>If set to true, credentials are stored and reused. </p>
      <code class="methodDeclaration">@property BOOL storeCredentials</code>
      <h5>Declared in</h5>
      <code>UrlConnection.h</code>
    <hr />
    <p id="lastUpdated">      (Last updated: 2010-01-11)
      <br />
      Back to <a href="../index.html">index</a> / <a href="../hierarchy.html">hierarchy</a>.
    </p>
  </div>
</body>
</html>
