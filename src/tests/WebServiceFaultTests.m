////  WebServiceFaultTests.m//  dXml////  Created by Derek Clarkson on 2/12/09.//  Copyright 2009 Derek Clarkson. All rights reserved.//#import <Foundation/Foundation.h>#import "GHUnit.h"#import "XmlDocument.h"#import "XmlNode.h"#import "WebServiceFault.h"@interface WebServiceFaultTests : GHTestCase {}@end@implementation WebServiceFaultTests- (void) testFaultCodeExtracted {	XmlDocument *doc = [[[XmlDocument alloc] initWithName: @"Envelope"] autorelease];	XmlNode *body = [doc addXmlNodeWithName: @"Body"];	XmlNode *fault = [body addXmlNodeWithName: @"Fault"];	XmlNode *faultCode = [fault addXmlNodeWithName: @"faultcode" value: @"My fault"];	WebServiceFault *webServiceFault = [[[WebServiceFault alloc] initWithDocument: doc] autorelease];	GHAssertEqualObjects([webServiceFault faultCode], faultCode.value, @"Fault code not returned");}- (void) testFaultStringExtracted {	XmlDocument *doc = [[[XmlDocument alloc] initWithName: @"Envelope"] autorelease];	XmlNode *body = [doc addXmlNodeWithName: @"Body"];	XmlNode *fault = [body addXmlNodeWithName: @"fault"];	XmlNode *faultString = [fault addXmlNodeWithName: @"faultstring" value: @"My fault"];	WebServiceFault *webServiceFault = [[[WebServiceFault alloc] initWithDocument: doc] autorelease];	GHAssertEqualObjects([webServiceFault message], faultString.value, @"Fault code not returned");}- (void) testExceptionExtracted {	XmlDocument *doc = [[[XmlDocument alloc] initWithName: @"Envelope"] autorelease];	XmlNode *body = [doc addXmlNodeWithName: @"Body"];	XmlNode *fault = [body addXmlNodeWithName: @"fault"];	XmlNode *details = [fault addXmlNodeWithName: @"details"];	XmlNode *exception = [details addXmlNodeWithName: @"exception"];		WebServiceFault *webServiceFault = [[[WebServiceFault alloc] initWithDocument: doc] autorelease];		GHAssertEqualObjects([webServiceFault javaException], exception, @"Exception code not returned");}@end